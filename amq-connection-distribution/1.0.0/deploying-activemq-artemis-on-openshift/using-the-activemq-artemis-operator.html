<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using the ActiveMQ Artemis Operator :: Understanding and Implementing Message Oriented Middleware</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Understanding and Implementing Message Oriented Middleware</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="amq-connection-distribution" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Understanding and Implementing Message Oriented Middleware</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction-to-message-oriented-middleware-mom/introduction-to-message-oriented-middleware-mom.html">Introduction to Message Oriented Middleware (MOM)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-message-oriented-middleware-mom/what-is-message-oriented-middleware.html">What is Message Oriented Middleware?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-message-oriented-middleware-mom/core-concepts-messages-producers-consumers-brokers.html">Core concepts: Messages, Producers, Consumers, Brokers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-message-oriented-middleware-mom/benefits-of-mom-in-distributed-systems.html">Benefits of MOM in distributed systems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../introduction-to-message-oriented-middleware-mom/common-use-cases-for-mom.html">Common use cases for MOM</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../challenges-in-distributed-systems/challenges-in-distributed-systems.html">Challenges in Distributed Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../challenges-in-distributed-systems/issues-with-direct-service-to-service-communication.html">Issues with direct service-to-service communication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../challenges-in-distributed-systems/the-need-for-asynchronous-processing.html">The need for asynchronous processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../challenges-in-distributed-systems/problems-with-reliability-and-data-consistency.html">Problems with reliability and data consistency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../challenges-in-distributed-systems/scalability-and-coupling-concerns.html">Scalability and coupling concerns</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/mom-solutions-for-distributed-systems.html">MOM Solutions for Distributed Systems</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/decoupling-services-with-message-queues.html">Decoupling services with message queues</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/point-to-point-ptp-messaging-model.html">Point-to-Point (PTP) messaging model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/publishsubscribe-pubsub-messaging-model.html">Publish/Subscribe (Pub/Sub) messaging model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/ensuring-message-delivery-and-reliability.html">Ensuring message delivery and reliability</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mom-solutions-for-distributed-systems/message-persistence-and-durability.html">Message persistence and durability</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/hands-on-lab-implementing-messaging-patterns.html">Hands-on Lab: Implementing Messaging Patterns</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/setting-up-a-basic-message-broker.html">Setting up a basic message broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/developing-a-producer-for-point-to-point-messaging.html">Developing a producer for Point-to-Point messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/developing-a-consumer-for-point-to-point-messaging.html">Developing a consumer for Point-to-Point messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/implementing-a-publisher-for-publishsubscribe.html">Implementing a publisher for Publish/Subscribe</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-implementing-messaging-patterns/implementing-a-subscriber-for-publishsubscribe.html">Implementing a subscriber for Publish/Subscribe</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Understanding and Implementing Message Oriented Middleware</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Understanding and Implementing Message Oriented Middleware</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Understanding and Implementing Message Oriented Middleware</a></li>
    <li><a href="using-the-activemq-artemis-operator.html">Using the ActiveMQ Artemis Operator</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using the ActiveMQ Artemis Operator</h1>
<div class="paragraph">
<p>Here&#8217;s the content for "Using the ActiveMQ Artemis Operator" in Antora AsciiDoc format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">[[using-activemq-artemis-operator]]
= Using the ActiveMQ Artemis Operator

When deploying complex stateful applications like ActiveMQ Artemis on Kubernetes or OpenShift, managing their lifecycle, scaling, and high availability can be challenging. This is where the concept of a Kubernetes Operator becomes invaluable. The ActiveMQ Artemis Operator automates the deployment, management, and operational tasks for ActiveMQ Artemis brokers on OpenShift, simplifying what would otherwise be a complex manual process.

== What is a Kubernetes Operator?

A Kubernetes Operator is a method of packaging, deploying, and managing a Kubernetes-native application. Operators are built on the fundamental concepts of Kubernetes and are designed to extend the capabilities of the Kubernetes API, allowing you to manage custom resources. They embody operational knowledge for a specific application, automating common tasks such as:

*   **Deployment:** Provisioning new instances or clusters.
*   **Scaling:** Adjusting the number of replicas up or down.
*   **Upgrades:** Performing rolling updates with minimal downtime.
*   **Backup and Restore:** Managing data persistence and recovery.
*   **Monitoring:** Integrating with monitoring systems to track application health.
*   **Self-healing:** Recovering from failures automatically.

Essentially, an Operator encapsulates the human operational knowledge for managing an application and encodes it into software, allowing Kubernetes to manage the application as if it were a native Kubernetes resource.

== Understanding the ActiveMQ Artemis Operator

The ActiveMQ Artemis Operator extends OpenShift to provide a robust, automated way to deploy and manage ActiveMQ Artemis broker instances and clusters. It understands the intricate details of how Artemis operates, including its clustering mechanisms, persistence requirements, and configuration options.

=== Key Capabilities and Benefits

Using the ActiveMQ Artemis Operator offers several significant advantages:

. **Simplified Deployment:**
*   **Declarative Configuration:** Instead of writing complex YAML manifests for StatefulSets, Services, and PersistentVolumeClaims, you define a high-level *Custom Resource (CR)* for ActiveMQ Artemis. The Operator then translates this into the necessary underlying OpenShift resources.
*   **Automated Clustering:** It simplifies the deployment of highly available (HA) Artemis clusters, handling peer discovery, quorum management, and replication automatically, which is crucial for building resilient messaging applications.
*   **Broker Instance Management:** Easily deploy single broker instances or sophisticated multi-broker clusters with shared or replicated storage.

. **Automated Lifecycle Management:**
*   **Scaling:** Dynamically scale your Artemis brokers horizontally (adding or removing nodes) or vertically (adjusting resource limits) with simple changes to the Custom Resource. The Operator ensures new brokers join the cluster correctly or are safely removed.
*   **Upgrades:** Facilitates seamless upgrades of Artemis broker versions, minimizing downtime.
*   **Self-Healing:** Monitors the health of broker instances and automatically attempts to restart or recover failed brokers, enhancing the fault tolerance of your messaging infrastructure.

. **Integration with OpenShift Ecosystem:**
*   **Persistent Storage:** The Operator integrates with OpenShift's persistent storage mechanisms (covered in a later section) to ensure message durability and reliability. You define your storage requirements directly in the Artemis CR.
*   **Networking and Routing:** It can automatically create OpenShift Services and Routes to expose your Artemis brokers to clients, abstracting away network complexities.
*   **Monitoring:** The Operator can configure monitoring endpoints and integrate with OpenShift's monitoring stack (e.g., Prometheus and Grafana) to provide visibility into broker health and performance (as we'll explore in the monitoring section).

. **Consistency and Best Practices:**
*   The Operator enforces best practices for deploying and configuring ActiveMQ Artemis on OpenShift, ensuring optimal performance, security, and reliability.
*   It reduces the potential for human error associated with manual configuration.

== How the Operator Works (at a High Level)

1.  **Installation:** The ActiveMQ Artemis Operator itself is installed onto your OpenShift cluster, typically via the OpenShift OperatorHub. This deploys the necessary controller and Custom Resource Definitions (CRDs).
2.  **Custom Resource Definition (CRD):** The Operator introduces a new API resource type (a CRD) to OpenShift, such as `ActiveMQArtemis` or `ActiveMQArtemisCluster`. This CRD defines the schema for how you can declare your desired Artemis deployments.
3.  **Custom Resource (CR):** As a user, you create instances of these Custom Resources. For example, you might create an `ActiveMQArtemis` CR to deploy a single broker or an `ActiveMQArtemisCluster` CR to deploy a high-availability cluster.
4.  **Reconciliation Loop:** The ActiveMQ Artemis Operator constantly watches for changes to these Custom Resources. When a new CR is created, updated, or deleted, the Operator's controller detects the change and takes action. It then *reconciles* the desired state (defined in your CR) with the current state of the OpenShift cluster, creating or updating the necessary underlying OpenShift resources (e.g., StatefulSets, Services, ConfigMaps, PersistentVolumeClaims) to match your specification.

By leveraging the ActiveMQ Artemis Operator, developers and operations teams can focus on their messaging application logic rather than the intricate details of deploying and managing the messaging infrastructure itself on OpenShift, making it a cornerstone for building resilient messaging solutions.</code></pre>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
